"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{9374:function(e,t,a){a.d(t,{px:function(){return v}});var n=a(5703),i=a(8845),s=a(1697),r=a(8150),u=a(3995),y=a(6304),p=a(3156),o=a(6979),c=a(6062),d=a(9532),m=a(6940),l=a(6431),f=a(5962),b=a(1136),w=a(3756),g=a(1321),h=a(362);async function v(e){let{client:t,ownerIndex:a=0,owners:n,nonce:y=0n}=e,o=e.address,d={abi:w.J,address:s.qe,version:"0.6"},m={abi:C,address:"0x0ba5ed0c6aa8c49038f819e587e2633c4a9f428a"},b=n.map(e=>{if("string"==typeof e)return(0,c.vk)(e);if("webAuthn"===e.type)return e.publicKey;if("local"===e.type)return(0,c.vk)(e.address);throw new r.G("invalid owner type")}),v=(()=>{let e=n[a]??n[0];return"string"==typeof e?{address:e,type:"address"}:e})();return(0,h.A)({client:t,entryPoint:d,extend:{abi:I,factory:m},async decodeCalls(e){let t=(0,u.p)({abi:I,data:e});if("execute"===t.functionName)return[{to:t.args[0],value:t.args[1],data:t.args[2]}];if("executeBatch"===t.functionName)return t.args[0].map(e=>({to:e.target,value:e.value,data:e.data}));throw new r.G(`unable to decode calls for "${t.functionName}"`)},encodeCalls:async e=>1===e.length?(0,p.R)({abi:I,functionName:"execute",args:[e[0].to,e[0].value??0n,e[0].data??"0x"]}):(0,p.R)({abi:I,functionName:"executeBatch",args:[e.map(e=>({data:e.data??"0x",target:e.to,value:e.value??0n}))]}),getAddress:async()=>o??=await (0,i.L)(t,{...m,functionName:"getAddress",args:[b,y]}),async getFactoryArgs(){let e=(0,p.R)({abi:m.abi,functionName:"createAccount",args:[b,y]});return{factory:m.address,factoryData:e}},getStubSignature:async()=>"webAuthn"===v.type?"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000c0000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000170000000000000000000000000000000000000000000000000000000000000001949fc7c88032b9fcb5f6efc7a7b8c63668eae9871b765e23123bb473ff57aa831a7c0d9276168ebcc29f2875a0239cffdf2a9cd1c2007c5c77c071db9264df1d000000000000000000000000000000000000000000000000000000000000002549960de5880e8c687434170f6476605b8fe4aeb9a28632c7995cf3ba831d97630500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008a7b2274797065223a22776562617574686e2e676574222c226368616c6c656e6765223a2273496a396e6164474850596759334b7156384f7a4a666c726275504b474f716d59576f4d57516869467773222c226f726967696e223a2268747470733a2f2f7369676e2e636f696e626173652e636f6d222c2263726f73734f726967696e223a66616c73657d00000000000000000000000000000000000000000000":O({ownerIndex:a,signature:"0xfffffffffffffffffffffffffffffff0000000000000000000000000000000007aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa1c"}),async sign(e){let n=A({address:await this.getAddress(),chainId:t.chain.id,hash:e.hash});if("address"===v.type)throw Error("owner cannot sign");return O({ownerIndex:a,signature:await x({owner:v,typedData:n})})},async signMessage(e){let{message:n}=e,i=A({address:await this.getAddress(),chainId:t.chain.id,hash:(0,l.r)(n)});if("address"===v.type)throw Error("owner cannot sign");return O({ownerIndex:a,signature:await x({owner:v,typedData:i})})},async signTypedData(e){let{domain:n,types:i,primaryType:s,message:r}=e,u=A({address:await this.getAddress(),chainId:t.chain.id,hash:(0,f.Jv)({domain:n,message:r,primaryType:s,types:i})});if("address"===v.type)throw Error("owner cannot sign");return O({ownerIndex:a,signature:await x({owner:v,typedData:u})})},async signUserOperation(e){let{chainId:n=t.chain.id,...i}=e,s=await this.getAddress(),r=(0,g.x)({chainId:n,entryPointAddress:d.address,entryPointVersion:d.version,userOperation:{...i,sender:s}});if("address"===v.type)throw Error("owner cannot sign");return O({ownerIndex:a,signature:await M({hash:r,owner:v})})},userOperation:{async estimateGas(e){if("webAuthn"===v.type)return{verificationGasLimit:BigInt(Math.max(Number(e.verificationGasLimit??0n),8e5))}}}})}async function x({typedData:e,owner:t}){return"local"===t.type&&t.signTypedData?t.signTypedData(e):M({hash:(0,f.Jv)(e),owner:t})}async function M({hash:e,owner:t}){if("webAuthn"===t.type){let{signature:a,webauthn:i}=await t.sign({hash:e});return function({webauthn:e,signature:t}){let{r:a,s:i}=n.H_(t);return(0,y.E)([{components:[{name:"authenticatorData",type:"bytes"},{name:"clientDataJSON",type:"bytes"},{name:"challengeIndex",type:"uint256"},{name:"typeIndex",type:"uint256"},{name:"r",type:"uint256"},{name:"s",type:"uint256"}],type:"tuple"}],[{authenticatorData:e.authenticatorData,clientDataJSON:(0,m.$G)(e.clientDataJSON),challengeIndex:BigInt(e.challengeIndex),typeIndex:BigInt(e.typeIndex),r:a,s:i}])}({signature:a,webauthn:i})}if(t.sign)return t.sign({hash:e});throw new r.G("`owner` does not support raw sign.")}function A({address:e,chainId:t,hash:a}){return{domain:{chainId:t,name:"Coinbase Smart Wallet",verifyingContract:e,version:"1"},types:{CoinbaseSmartWalletMessage:[{name:"hash",type:"bytes32"}]},primaryType:"CoinbaseSmartWalletMessage",message:{hash:a}}}function O(e){let{ownerIndex:t=0}=e,a=(()=>{if(65!==(0,d.d)(e.signature))return e.signature;let t=(0,b.c)(e.signature);return(0,o._)(["bytes32","bytes32","uint8"],[t.r,t.s,0===t.yParity?27:28])})();return(0,y.E)([{components:[{name:"ownerIndex",type:"uint8"},{name:"signatureData",type:"bytes"}],type:"tuple"}],[{ownerIndex:t,signatureData:a}])}let I=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"owner",type:"bytes"}],name:"AlreadyOwner",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidEthereumAddressOwner",type:"error"},{inputs:[{name:"key",type:"uint256"}],name:"InvalidNonceKey",type:"error"},{inputs:[{name:"owner",type:"bytes"}],name:"InvalidOwnerBytesLength",type:"error"},{inputs:[],name:"LastOwner",type:"error"},{inputs:[{name:"index",type:"uint256"}],name:"NoOwnerAtIndex",type:"error"},{inputs:[{name:"ownersRemaining",type:"uint256"}],name:"NotLastOwner",type:"error"},{inputs:[{name:"selector",type:"bytes4"}],name:"SelectorNotAllowed",type:"error"},{inputs:[],name:"Unauthorized",type:"error"},{inputs:[],name:"UnauthorizedCallContext",type:"error"},{inputs:[],name:"UpgradeFailed",type:"error"},{inputs:[{name:"index",type:"uint256"},{name:"expectedOwner",type:"bytes"},{name:"actualOwner",type:"bytes"}],name:"WrongOwnerAtIndex",type:"error"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"AddOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"index",type:"uint256"},{indexed:!1,name:"owner",type:"bytes"}],name:"RemoveOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"REPLAYABLE_NONCE_KEY",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"addOwnerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"addOwnerPublicKey",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"functionSelector",type:"bytes4"}],name:"canSkipChainIdValidation",outputs:[{name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"entryPoint",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"target",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"calls",type:"bytes[]"}],name:"executeWithoutChainIdValidation",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],name:"getUserOpHashWithoutChainId",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"$",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"owners",type:"bytes[]"}],name:"initialize",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"isOwnerAddress",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"bytes"}],name:"isOwnerBytes",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"x",type:"bytes32"},{name:"y",type:"bytes32"}],name:"isOwnerPublicKey",outputs:[{name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"result",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextOwnerIndex",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"}],name:"ownerAtIndex",outputs:[{name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"ownerCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeLastOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"index",type:"uint256"},{name:"owner",type:"bytes"}],name:"removeOwnerAtIndex",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"removedOwnersCount",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"hash",type:"bytes32"}],name:"replaySafeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{name:"newImplementation",type:"address"},{name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"},{name:"userOpHash",type:"bytes32"},{name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],C=[{inputs:[{name:"implementation_",type:"address"}],stateMutability:"payable",type:"constructor"},{inputs:[],name:"OwnerRequired",type:"error"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"createAccount",outputs:[{name:"account",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{name:"owners",type:"bytes[]"},{name:"nonce",type:"uint256"}],name:"getAddress",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"implementation",outputs:[{name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"initCodeHash",outputs:[{name:"",type:"bytes32"}],stateMutability:"view",type:"function"}]},3284:function(e,t,a){a.d(t,{Q:function(){return u}});var n=a(6341),i=a(8839),s=a(1324);function r(e){return{getPaymasterData:t=>(0,i.i)(e,t),getPaymasterStubData:t=>(0,s.p)(e,t)}}function u(e){let{key:t="bundler",name:a="Bundler Client",transport:i}=e;return(0,n.e)({...e,key:t,name:a,transport:i,type:"PaymasterClient"}).extend(r)}},1133:function(e,t,a){a.d(t,{w:function(){return s}});var n=a(5959),i=a(6940);function s(){return(0,i.NC)(n.secp256k1.utils.randomPrivateKey())}},9310:function(e,t,a){a.d(t,{L:function(){return h}});var n=a(5959),i=a(6940),s=a(1688),r=a(5092),u=a(4130),y=a(8383);async function p({hash:e,privateKey:t,to:a="object"}){let{r:s,s:r,recovery:u}=n.secp256k1.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:!1}),p={r:(0,i.eC)(s,{size:32}),s:(0,i.eC)(r,{size:32}),v:u?28n:27n,yParity:u};return"bytes"===a||"hex"===a?(0,y.V)({...p,to:a}):p}var o=a(4113);async function c(e){let{chainId:t,nonce:a,privateKey:n,to:i="object"}=e,s=e.contractAddress??e.address,r=await p({hash:(0,o.t)({address:s,chainId:t,nonce:a}),privateKey:n,to:i});return"object"===i?{address:s,chainId:t,nonce:a,...r}:r}var d=a(6431);async function m({message:e,privateKey:t}){return await p({hash:(0,d.r)(e),privateKey:t,to:"hex"})}var l=a(9139),f=a(1057);async function b(e){let{privateKey:t,transaction:a,serializer:n=f.D}=e,i="eip4844"===a.type?{...a,sidecars:!1}:a,s=await p({hash:(0,l.w)(n(i)),privateKey:t});return n(a,s)}var w=a(5962);async function g(e){let{privateKey:t,...a}=e;return await p({hash:(0,w.Jv)(a),privateKey:t,to:"hex"})}function h(e,t={}){let{nonceManager:a}=t,y=(0,i.NC)(n.secp256k1.getPublicKey(e.slice(2),!1));return{...function(e){if("string"==typeof e){if(!(0,r.U)(e,{strict:!1}))throw new s.b({address:e});return{address:e,type:"json-rpc"}}if(!(0,r.U)(e.address,{strict:!1}))throw new s.b({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}({address:(0,u.y)(y),nonceManager:a,sign:async({hash:t})=>p({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>c({...t,privateKey:e}),signMessage:async({message:t})=>m({message:t,privateKey:e}),signTransaction:async(t,{serializer:a}={})=>b({privateKey:e,transaction:t,serializer:a}),signTypedData:async t=>g({...t,privateKey:e})}),publicKey:y,source:"privateKey"}}}}]);